  Factory* factory() { return reinterpret_cast<Factory*>(this); }